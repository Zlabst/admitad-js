(function(e,i){"use strict";var t=e.Math,s=e.HTMLElement,n=e.parseInt;e.AdmitadFrameEvent={frameVisibleSizeCallback:null,scrollToFrame:!1,sizeMessagePrefix:"size=",frameVisibleSizeMessagePrefix:"getFrameVisibleSize",windowSizesMessagePrefix:"getWindowSize",scroolCallbackPrefix:"setScroolCallback",scrollMessagePrefix:"scroll=",showLoaderPrefix:"showLoader",hideLoaderPrefix:"hideLoader",isPostMessageSupported:function(){return!!e.postMessage&&void 0!==e.onmessage},isFrame:function(){return e.top.location!==e.location},isSupportedFrame:function(){return this.isFrame()&&this.isPostMessageSupported()},isElement:function(e){return!!e&&("object"==typeof s?e instanceof s:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName)},getWindowSize:function(){var t=i.documentElement,s=i.body||i.getElementsByTagName("body")[0],n=e.innerWidth||t.clientWidth||s.clientWidth,a=e.innerHeight||t.clientHeight||s.clientHeight;return[n,a]},getElementHeight:function(e){return void 0!==e.clip&&e.clip.height||e.style.pixelHeight||e.offsetHeight},getElementWidth:function(e){return void 0!==e.clip&&e.clip.width||e.style.pixelWidth||e.offsetWidth},strToObj:function(e){var i,t,s=e.split(","),n={};for(i=0;s.length>i;i+=1)t=s[i].split("="),n[t[0]]=t[1];return n},setScrollToFrame:function(e){this.scrollToFrame=e},setFrameVisibleSizeCallback:function(e){this.frameVisibleSizeCallback=e},setWindowSizeCallback:function(e){this.windowSizeCallback=e},setScrollCallback:function(e){this.scrollCallback=e},getDocumentSize:function(){var e=i.body||i.getElementsByTagName("body")[0],s=t.max(e.clientWidth||0,e.offsetWidth||0),n=t.max(e.clientHeight||0,e.offsetHeight||0);return n+","+s},sendMessage:function(i){this.isSupportedFrame()&&e.parent.postMessage(i,"*")},sendSizeMessage:function(){this.sendMessage(this.sizeMessagePrefix+this.getDocumentSize())},resizeParent:function(){this.sendSizeMessage()},centerElementWithinFrame:function(e){if(this.isElement(e)){var i=this.getElementWidth(e),t=this.getElementHeight(e),s=this.getWindowSize()[0];this.requestFrameVisibleSize(function(n){var a,o;o=(s-i)/2,a=n.top+(n.bottom-n.top-t)/2,e.style.position="absolute",e.style.top=a+"px",e.style.left=o+"px"})}},sendScrollMessage:function(){this.sendMessage(this.scrollMessagePrefix+"frame")},addEvent:function(i,t,s){if(s=s||e,s.addEventListener)s.addEventListener(i,t,!1);else if(s.attachEvent)s.attachEvent("on"+i,t);else{var n=s["on"+i];s["on"+i]=function(){t(),n&&n()}}},removeEvent:function(i,t,s){s=s||e,s.removeEventListener?s.removeEventListener(i,t,!1):s.detachEvent?s.detachEvent("on"+i,t):delete s["on"+i]},requestFrameVisibleSize:function(e){this.isFrame()&&(this.sendMessage(this.frameVisibleSizeMessagePrefix),this.setFrameVisibleSizeCallback(e))},requestWindowSize:function(e){this.isFrame()&&(this.sendMessage(this.windowSizesMessagePrefix),this.setWindowSizeCallback(e))},requestScrollCallback:function(e){this.isFrame()&&(this.sendMessage(this.scroolCallbackPrefix),this.setScrollCallback(e))},requestShowLoader:function(){this.isFrame()&&this.sendMessage(this.showLoaderPrefix)},requestHideLoader:function(){this.isFrame()&&this.sendMessage(this.hideLoaderPrefix)},processScrollCallback:function(e){if(e){var i,t=e.match(/scroll=((\w+=\d+(.\d+)?,){8}\w+=\d+(.\d+)?)$/);t&&(i=this.strToObj(t[1]),"function"==typeof this.scrollCallback&&this.scrollCallback(i))}},processFrameVisibleSizeCallback:function(e){if(e){var i,t,s=e.match(/size=(\d+),(\d+)$/);s&&(i=n(s[1],10),t=n(s[2],10),"function"==typeof this.frameVisibleSizeCallback&&this.frameVisibleSizeCallback({top:i,bottom:t}))}},processWindowSizeCallback:function(e){if(e){var i,t=e.match(/size=((\w+=\d+(.\d+)?,){8}\w+=\d+(.\d+)?)$/);t&&(i=this.strToObj(t[1]),"function"==typeof this.windowSizeCallback&&this.windowSizeCallback(i))}},bindRequestEvents:function(){if(!this.isSupportedFrame())return this;var e=this;return this.addEvent("message",function(i){i=i.originalEvent||i;var t=i.data;e.processScrollCallback(t),e.processFrameVisibleSizeCallback(t),e.processWindowSizeCallback(t)}),this},bindResizeEvents:function(){function e(){e.loaded||(e.loaded=!0,t.addEvent("resize",t.sendSizeMessage()),t.sendSizeMessage(),t.scrollToFrame&&t.sendScrollMessage())}if(!this.isSupportedFrame())return this;var t=this;return e.loaded=!1,"complete"===i.readyState?e():this.addEvent("load",e),this}}.bindResizeEvents().bindRequestEvents()})(window,window.document);
//@ sourceMappingURL=admitad.iframe.js.map