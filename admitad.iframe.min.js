(function(e,t){"use strict";var i=e.Math,s=e.HTMLElement,n=e.encodeURIComponent,a=e.parseInt;e.AdmitadFrameEvent={frameVisibleSizeCallback:null,resizeCallback:null,scrollCallback:null,windowSizeCallback:null,scrollToFrame:!1,trackPath:!1,sizeMessagePrefix:"size=",pathMessagePrefix:"path=",frameVisibleSizeMessagePrefix:"getFrameVisibleSize",windowSizesMessagePrefix:"getWindowSize",resizeCallbackPrefix:"setResizeCallback",scrollCallbackPrefix:"setScrollCallback",scrollMessagePrefix:"scroll=",showLoaderPrefix:"showLoader",hideLoaderPrefix:"hideLoader",isPostMessageSupported:function(){return!!e.postMessage&&void 0!==e.onmessage},isFrame:function(){return e.top.location!==e.location},isSupportedFrame:function(){return this.isFrame()&&this.isPostMessageSupported()},isElement:function(e){return!!e&&("object"==typeof s?e instanceof s:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName)},isSupportsHistoryApi:function(){return!(!e.history||!history.pushState)},getWindowSize:function(){var i=t.documentElement,s=t.body||t.getElementsByTagName("body")[0],n=e.innerWidth||i.clientWidth||s.clientWidth,a=e.innerHeight||i.clientHeight||s.clientHeight;return[n,a]},getElementHeight:function(e){return void 0!==e.clip&&e.clip.height||e.style.pixelHeight||e.offsetHeight},getElementWidth:function(e){return void 0!==e.clip&&e.clip.width||e.style.pixelWidth||e.offsetWidth},strToObj:function(e){var t,i,s=e.split(","),n={};for(t=0;s.length>t;t+=1)i=s[t].split("="),n[i[0]]=+i[1];return n},setScrollToFrame:function(e){return this.scrollToFrame=e,this},setTrackPath:function(e){return this.trackPath=e,this},setFrameVisibleSizeCallback:function(e){return this.frameVisibleSizeCallback=e,this},setResizeCallback:function(e){return this.resizeCallback=e,this},setScrollCallback:function(e){return this.scrollCallback=e,this},setWindowSizeCallback:function(e){return this.windowSizeCallback=e,this},getDocumentSize:function(){var e=t.body||t.getElementsByTagName("body")[0],s=i.max(e.clientWidth||0,e.offsetWidth||0),n=i.max(e.clientHeight||0,e.offsetHeight||0);return n+","+s},getDocumentPath:function(){return e.location.pathname+e.location.search},sendMessage:function(t){this.isSupportedFrame()&&e.parent.postMessage(t,"*")},sendSizeMessage:function(){this.sendMessage(this.sizeMessagePrefix+this.getDocumentSize())},sendPathMessage:function(){this.sendMessage(this.pathMessagePrefix+n(this.getDocumentPath()))},resizeParent:function(){this.sendSizeMessage()},centerElementWithinFrame:function(e){if(this.isElement(e)){var t=this.getElementWidth(e),i=this.getElementHeight(e),s=this.getWindowSize()[0];this.requestFrameVisibleSize(function(n){var a,r;r=(s-t)/2,a=n.top+(n.bottom-n.top-i)/2,e.style.position="absolute",e.style.top=a+"px",e.style.left=r+"px"})}},sendScrollMessage:function(){this.sendMessage(this.scrollMessagePrefix+"frame")},addEvent:function(t,i,s){if(s=s||e,s.addEventListener)s.addEventListener(t,i,!1);else if(s.attachEvent)s.attachEvent("on"+t,i);else{var n=s["on"+t];s["on"+t]=function(){i(),n&&n()}}},removeEvent:function(t,i,s){s=s||e,s.removeEventListener?s.removeEventListener(t,i,!1):s.detachEvent?s.detachEvent("on"+t,i):delete s["on"+t]},requestFrameVisibleSize:function(e){this.isFrame()&&(this.sendMessage(this.frameVisibleSizeMessagePrefix),this.setFrameVisibleSizeCallback(e))},requestResizeCallback:function(e){this.isFrame()&&(this.sendMessage(this.resizeCallbackPrefix),this.setResizeCallback(e))},requestScrollCallback:function(e){this.isFrame()&&(this.sendMessage(this.scrollCallbackPrefix),this.setScrollCallback(e))},requestWindowSize:function(e){this.isFrame()&&(this.sendMessage(this.windowSizesMessagePrefix),this.setWindowSizeCallback(e))},requestShowLoader:function(){this.isFrame()&&this.sendMessage(this.showLoaderPrefix)},requestHideLoader:function(){this.isFrame()&&this.sendMessage(this.hideLoaderPrefix)},requestScrollToFrameTopOffset:function(e){this.sendMessage(this.scrollMessagePrefix+e)},processScrollCallback:function(e){if(e){var t,i=e.match(/scroll=((\w+=\d+(\.\d+)?,){8}\w+=\d+(\.\d+)?)$/);i&&(t=this.strToObj(i[1]),"function"==typeof this.scrollCallback&&this.scrollCallback(t))}},processFrameVisibleSizeCallback:function(e){if(e){var t,i,s=e.match(/size=(\d+),(\d+)$/);s&&(t=a(s[1],10),i=a(s[2],10),"function"==typeof this.frameVisibleSizeCallback&&this.frameVisibleSizeCallback({top:t,bottom:i}))}},processWindowSizeCallback:function(e){if(e){var t,i=e.match(/size=((\w+=\d+(\.\d+)?,){8}\w+=\d+(\.\d+)?)$/);i&&(t=this.strToObj(i[1]),"function"==typeof this.windowSizeCallback&&(this.windowSizeCallback(t),this.windowSizeCallback=null),"function"==typeof this.resizeCallback&&this.resizeCallback(t))}},bindRequestEvents:function(){if(!this.isSupportedFrame())return this;var e=this;return this.addEvent("message",function(t){t=t.originalEvent||t;var i=t.data;e.processScrollCallback(i),e.processFrameVisibleSizeCallback(i),e.processWindowSizeCallback(i)}),this},bindResizeEvents:function(){function e(){e.loaded||(e.loaded=!0,i.addEvent("resize",i.sendSizeMessage()),i.sendSizeMessage(),i.isSupportsHistoryApi()&&i.trackPath&&i.sendPathMessage(),i.scrollToFrame&&i.sendScrollMessage())}if(!this.isSupportedFrame())return this;var i=this;return e.loaded=!1,"complete"===t.readyState?e():this.addEvent("load",e),this}}.bindResizeEvents().bindRequestEvents()})(window,window.document);
//@ sourceMappingURL=admitad.iframe.js.map